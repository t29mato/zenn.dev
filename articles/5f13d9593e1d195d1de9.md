---
title: "VSCodeã®RemoteContainersã§ã€1ã‚³ãƒ³ãƒ†ãƒŠè¤‡æ•°ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹"
emoji: "ğŸš¢"
type: "tech"
topics: [docker, RemoteContainer]
published: true
---

# What I want to do
- ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒ ([Prism](https://stoplight.io/open-source/prism/)) ã¨Nuxt.jsã‚’ã¾ã¨ã‚ã¦1ã‚³ãƒãƒ³ãƒ‰ã§ã€VS Codeã®Remote - Containerã§å®Ÿè¡Œã—ãŸã„

# Why
- é–‹ç™ºãŒæ—ã‚Šãã†ã ã‹ã‚‰

# How

``` sh: ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ
.
â”œâ”€â”€ .devcontainer
â”‚   â”œâ”€â”€ devcontainer.json
â”‚   â””â”€â”€ start.sh
â””â”€â”€ Dockerfile
```

``` json: devcontainer.json
{
	"name": "Node.js",
	"build": {
		"dockerfile": "../Dockerfile",
	},
	"settings": {
		"terminal.integrated.shell.linux": "/bin/bash"
	},
	"forwardPorts": [8080, 3000],
	"postCreateCommand": "/workspace/.devcontainer/start.sh",
	"remoteUser": "node"
}
```

``` sh: start.sh
#/bin/sh

yarn dev & prism mock -d -p 8080 https://raw.githubusercontent.com/OAI/OpenAPI-Specification/main/examples/v3.0/petstore.yaml
```

``` Dockerfile: Dockerfile
FROM node:16

RUN npm install -g @stoplight/prism-cli

COPY ./package.json /workspace/
WORKDIR /workspace
RUN yarn install

COPY . /workspace/
```

## Code
https://github.com/t29mato/remote-container-nuxtjs-prism

# Result
1. Press "Remote Container: reopen in container" in VS Code

![](https://storage.googleapis.com/zenn-user-upload/fcff22a0da99097995914c51.png)

2. Starting Dev Container

![](https://storage.googleapis.com/zenn-user-upload/60daaa39d97d14560983e522.png)

3. Start Container

``` sh: logs
[16418 ms] Start: Run in container: /bin/sh -c /workspace/.devcontainer/start.sh
yarn run v1.22.5
$ nuxt
[2:20:10 PM] â€º [CLI] â€¦  awaiting  Starting Prismâ€¦
[2:20:11 PM] â€º [CLI] â„¹  info      GET        http://127.0.0.1:8080/pets?limit=287935491
[2:20:11 PM] â€º [CLI] â„¹  info      POST       http://127.0.0.1:8080/pets
[2:20:11 PM] â€º [CLI] â„¹  info      GET        http://127.0.0.1:8080/pets/et
[2:20:11 PM] â€º [CLI] â–¶  start     Prism is listening on http://127.0.0.1:8080

   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
   â”‚                                       â”‚
   â”‚   Nuxt @ v2.15.6                      â”‚
   â”‚                                       â”‚
   â”‚   â–¸ Environment: development          â”‚
   â”‚   â–¸ Rendering:   server-side          â”‚
   â”‚   â–¸ Target:      server               â”‚
   â”‚                                       â”‚
   â”‚   Listening: http://localhost:3000/   â”‚
   â”‚                                       â”‚
   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â„¹ Preparing project for development                                   14:20:23
â„¹ Initial build may take a while                                      14:20:23
â„¹ Discovered Components: .nuxt/components/readme.md                   14:20:24
âœ” Builder initialized                                                 14:20:24
âœ” Nuxt files generated                                                14:20:24

âœ” Client
  Compiled successfully in 7.60s

âœ” Server
  Compiled successfully in 6.80s

â„¹ Waiting for file changes                                            14:20:37
â„¹ Memory usage: 136 MB (RSS: 223 MB)                                  14:20:37
â„¹ Listening on: http://localhost:3000/                                14:20:37
```

![](https://storage.googleapis.com/zenn-user-upload/8067245c7760ce83748a2601.png)

# Point
ãªã‚“ã¦ã“ã¨ãªã‹ã£ãŸã®ã§ã™ãŒã€Dockerã§è¤‡æ•°ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã—ãŸã„æ™‚ã«åˆ©ç”¨ã™ã‚‹tipsã¨åŒã˜ã§ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’Remote Containerèµ·å‹•æ™‚ã«å®Ÿè¡Œã—ã¦ã‚ã’ã‚Œã°OKã§ã—ãŸã€‚

ä»Šå›ã¯start.shã«ãªã‚Šã¾ã™ã€‚

# Supplement. 1
ä»Šå›ã®è¨˜äº‹ã¿ãŸãã€1ã‚³ãƒ³ãƒ†ãƒŠè¤‡æ•°ã‚³ãƒãƒ³ãƒ‰ã§ã¯ãªãã¦ã€è¤‡æ•°ã‚³ãƒ³ãƒ†ãƒŠã‚’åŒæ™‚ã«å®Ÿè¡Œã—ãŸã„å ´åˆã¯ã€[å…¬å¼ã®Connecting to multiple containers at once](https://code.visualstudio.com/docs/remote/containers-advanced#_connecting-to-multiple-containers-at-once)ãŒå‚è€ƒã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚

# Supplement. 2

1ã‚³ãƒ³ãƒ†ãƒŠè¤‡æ•°ã‚³ãƒãƒ³ãƒ‰ã¯ã€1ã‚³ãƒ³ãƒ†ãƒŠã®è²¬ä»»å¢—ã‚„ã—ã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã§åŸºæœ¬ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã ã¨æ€ã‚ã‚Œã‚‹ãŒã€Remote Containerã«é™ã£ã¦ã¯ã€é–‹ç™ºç’°å¢ƒã§åˆ©ç”¨ã™ã‚‹å ´åˆã®ã¿ãªã®ã§ã€ä»Šå›ã®æ–¹æ³•ã¯ã‚ã‚Šã‹ãªã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

# Editor's note

[Software Design 2021å¹´6æœˆå·](https://amzn.to/2S4nGbs)ã«[Remote - Container](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers)ã®ç‰¹é›†ãŒã‚ã‚Šã€ä»Šå›è©¦ã—ã¦ã¿ãŸã®ã§ã™ãŒã€

- é–‹ç™ºç’°å¢ƒãŒãƒ­ãƒ¼ã‚«ãƒ«ã«ä¾å­˜ã—ãªã„
- ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒãŒæ±šã‚Œãªã„
- ãƒãƒ¼ãƒ é–‹ç™ºã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒéå¸¸ã«ç°¡å˜

ã¨ãƒ¡ãƒªãƒƒãƒˆå¤šãã€ä»Šå¾Œã‚‚æ´»ç”¨ã—ã¦ã„ããŸã„ãªã¨æ€ã„ã¾ã—ãŸã€‚

ã“ã“ãŠã‹ã—ã„ãªã©ã€ã‚ã‚Šã¾ã—ãŸã‚‰ã€ã”æŒ‡æ‘˜ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ :bowbow:
